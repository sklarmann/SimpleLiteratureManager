{% extends "base.html" %}
{% block content %}

<h1>{% if is_edit %}Publikation bearbeiten{% else %}Publikation hinzuf√ºgen{% endif %}</h1>

<form method="POST" enctype="multipart/form-data" class="mt-3">
    {% csrf_token %}

    <div class="mb-3">
        {{ form.title.label_tag }}
        {{ form.title }}
        {% for error in form.title.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.year.label_tag }}
        {{ form.year }}
        {% for error in form.year.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.doi.label_tag }}
        {{ form.doi }}
        {% for error in form.doi.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.authors.label_tag }}
        {{ form.authors }}
        {% for error in form.authors.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.journal.label_tag }}
        {{ form.journal }}
        {% for error in form.journal.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.abstract.label_tag }}
        {{ form.abstract }}
        {% for error in form.abstract.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.pdf.label_tag }}
        {{ form.pdf }}
        {% for error in form.pdf.errors %}
            <div class="text-danger small">{{ error }}</div>
        {% endfor %}
    </div>

    <button class="btn btn-primary" type="submit">{% if is_edit %}Aktualisieren{% else %}Speichern{% endif %}</button>
    {% if is_edit %}
        <a class="btn btn-secondary" href="{% url 'publication_detail' publication.id %}">Abbrechen</a>
    {% else %}
        <a class="btn btn-secondary" href="{% url 'publication_list' %}">Abbrechen</a>
    {% endif %}
</form>

{% endblock %}
